<!doctype html>
<html lang="de">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/style.css" />
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<title>Melanie Scheer Design</title>
		<link
			rel="shortcut icon"
			type="image/png"
			href="/other/melanie_scheer_design_sparkle.png"
		/>
	</head>

	<header>
		<!--logo name-->
		<a href="/">
			<img src="/other/melanie_scheer_design_name.svg" />
		</a>
	</header>

	<body>
		<!--div with random image-->
		<div
			onclick="changeImage();"
			style="cursor: pointer"
			class="image-random"
			id="image-random"
		></div>

		<!--new image on refresh-->
		<script>
			var images = [
				"melanie_scheer_design_buchbinden_workshop.jpg",
				"melanie_scheer_design_illustration_herz.jpg",
				"melanie_scheer_design_intergeschlechtlichkeit.jpg",
				"melanie_scheer_design_irmgard_1.jpg",
				"melanie_scheer_design_irmgard_2.jpg",
				"melanie_scheer_design_jgu_gender.jpg",
				"melanie_scheer_design_mentales_visualisieren_1.jpg",
				"melanie_scheer_design_mentales_visualisieren_2.jpg",
				"melanie_scheer_design_mentales_visualisieren_3.jpg",
				"melanie_scheer_design_mentales_visualisieren_4.jpg",
				"melanie_scheer_design_mentales_visualisieren_5.jpg",
				"melanie_scheer_design_mentales_visualisieren_6.jpg",
				"melanie_scheer_design_mentales_visualisieren_7.jpg",
				"melanie_scheer_design_milli.jpg",
				"melanie_scheer_design_notizbuch1.jpg",
				"melanie_scheer_design_notizbuch2.jpg",
				"melanie_scheer_design_notizbuch3.jpg",
				"melanie_scheer_design_notizbuch4.jpg",
				"melanie_scheer_design_notizbuch5.jpg",
				"melanie_scheer_design_palucca_tanzt_1.jpg",
				"melanie_scheer_design_palucca_tanzt_2.jpg",
				"melanie_scheer_design_perMA.jpg",
				"melanie_scheer_design_photoalbum.jpg",
				"melanie_scheer_design_postkarte_buchbinden.jpg",
				"melanie_scheer_design_riso_mythologie.jpg",
				"melanie_scheer_design_saturn_zine.jpg",
				"melanie_scheer_design_solitaire.jpg",
				"melanie_scheer_design_the_comet.jpg",
				"melanie_scheer_design_zwillingsbuch_1.jpg",
				"melanie_scheer_design_zwillingsbuch_2.jpg",
			];

			// get already shown images out of localStorage
			var displayedImages =
				JSON.parse(localStorage.getItem("displayedImages")) || [];
			console.log("Angezeigte Bilder aus localStorage:", displayedImages);

			// pick a random image that was not shown already
			function getNextImage() {
				// filter out images that were shown already
				var remainingImages = images.filter(function (img) {
					return !displayedImages.includes(img);
				});
				console.log("Verbleibende Bilder:", remainingImages);

				// restart cycle after every image were shown
				if (remainingImages.length === 0) {
					console.log(
						"Alle Bilder wurden angezeigt. Zur체cksetzen...",
					);
					displayedImages = [];
					localStorage.removeItem("displayedImages");
					remainingImages = images; // every image is available again
				}

				// pick a random image out of the remaining images
				var randomImage =
					remainingImages[
						Math.floor(Math.random() * remainingImages.length)
					];
				console.log("Gew채hltes Bild:", randomImage);

				// add the shown image to the list
				displayedImages.push(randomImage);

				// save to status in localStorage
				localStorage.setItem(
					"displayedImages",
					JSON.stringify(displayedImages),
				);

				return randomImage;
			}

			// get the next image
			function changeImage() {
				var nextImage = getNextImage();
				console.log("N채chstes Bild:", nextImage);

				// display image in div
				var imgElement = document.createElement("img");
				imgElement.src = "images/" + nextImage;

				var imageRandomDiv = document.getElementById("image-random");
				if (imageRandomDiv) {
					// Entferne das alte Bild (falls es bereits eins gibt)
					imageRandomDiv.innerHTML = "";
					// F체ge das neue Bild hinzu
					imageRandomDiv.appendChild(imgElement);
				} else {
					console.log("Div mit id 'image-random' nicht gefunden.");
				}
			}

			// Initiales Bild anzeigen
			changeImage();
		</script>

		<noscript>
			<img
				src="/images/melanie_scheer_design_mentales_visualisieren_1.jpg"
			/>
		</noscript>

		<!--footer-->
		<div class="footer">
			<ul class="footer-list">
				<li><a href="/info.html">Info & Kontakt</a></li>
				<li><a href="/impressum.html">Impressum</a></li>
				<li><a href="/datenschutz.html">Datenschutz</a></li>
				<li class="footer-credit">
					&copy;
					<script>
						document.write(new Date().getFullYear());
					</script>
					Melanie Scheer
				</li>
			</ul>
		</div>

		<!--logo design-->
		<div class="design">
			<img src="/other/melanie_scheer_design_design.svg" />
		</div>
	</body>
</html>
